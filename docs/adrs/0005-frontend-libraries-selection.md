# 5. フロントエンドライブラリの選択

Date: 2024-03-26

## ステータス

提案

## 文脈

- Remixアプリケーションのフロントエンド実装に必要なライブラリを選定
- モバイルファーストの実装が必要
- 画像撮影やバーコード読み取りなどのネイティブ機能を使用

## 検討項目

### 1. フォーム管理

#### React Hook Form
- 長所
  - パフォーマンスが優れている
  - TypeScriptサポートが充実
  - バリデーション（Zod, Yup等）との統合が容易
  - エラーハンドリングが直感的
- 短所
  - RemixのForm機能との統合に工夫が必要

#### Remix Form
- 長所
  - Remixのネイティブフォーム機能
  - プログレッシブエンハンスメントのサポート
  - サーバーサイドバリデーションとの統合が容易
- 短所
  - クライアントサイドでの柔軟な制御が制限される

### 2. バリデーション

#### Zod
- 長所
  - TypeScriptとの親和性が高い
  - スキーマからの型推論が可能
  - エラーメッセージのカスタマイズが容易
  - 広く採用されている
- 短所
  - バンドルサイズへの影響

#### Yup
- 長所
  - 成熟したライブラリ
  - 豊富なバリデーションルール
- 短所
  - TypeScriptサポートがZodより劣る
  - バンドルサイズが大きい

### 3. 状態管理

#### Jotai
- 長所
  - 軽量
  - TypeScriptフレンドリー
  - アトミックな状態管理
  - React Server Componentsとの互換性
- 短所
  - 学習コストがある
  - ドキュメントが比較的少ない

#### Zustand
- 長所
  - シンプルなAPI
  - Redux DevToolsのサポート
  - 小さなバンドルサイズ
- 短所
  - Server Componentsとの相性が不明確

### 4. テスト

#### Vitest
- 長所
  - 高速な実行
  - Jest互換のAPI
  - TypeScriptのネイティブサポート
  - Viteとの統合
- 短所
  - 比較的新しいツール

#### Jest
- 長所
  - デファクトスタンダード
  - 豊富な情報とエコシステム
- 短所
  - 設定が複雑になりがち
  - 実行速度が比較的遅い

## 決定

以下のライブラリの採用を推奨します：

1. **フォーム管理**: React Hook Form
   - 理由：柔軟な制御とパフォーマンスの両立

2. **バリデーション**: Zod
   - 理由：TypeScriptとの優れた統合、型安全性

3. **状態管理**: Jotai
   - 理由：軽量で、Server Componentsとの互換性が良好

4. **テスト**: Vitest
   - 理由：高速な実行、モダンな開発体験

## 影響

### 良い影響
- 型安全性の向上
- 開発効率の向上
- パフォーマンスの最適化
- モダンな開発体験

### 考慮すべき点
- チームメンバーの学習コスト
- ライブラリのバージョン管理
- バンドルサイズの最適化
- テストカバレッジの設定 
